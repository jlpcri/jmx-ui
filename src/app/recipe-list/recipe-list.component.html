<div class="container-fluid">
  <div class="container">
    <div class="row">
      <div class="col-md-8 form-group">
        <div class="row margin-bottom">
          <div class="col-4 form-check custom-radio" *ngFor="let each of searchOptions">
            <input class="form-check-input custom-control-input" type="radio" id="search_{{each.value}}" name="searchOptions" value="{{each.value}}" [(ngModel)]="searchOptionSelected">
            <label class="form-check-label custom-control-label" for="search_{{each.value}}">{{each.value}} Name</label>
          </div>
        </div>

        <div class="input-icons">
          <i class="fas fa-search icon"></i>
          <ng-autocomplete class="form-control input-field"
                           [data]="productNameList"
                           [searchKeyword]="productNameListKey"
                           placeHolder="Search Juice Recipe"
                           (selected)="selectEvent($event, searchOptionSelected)"
                           (inputChanged)="onChangeSearch($event)"
                           (inputFocused)="onFocused($event)"
                           historyIdentifier="productNameList"
                           [debounceTime]="400"
                           [isLoading]="isLoadingProductNameList"
                           [itemTemplate]="itemTemplate"
                           [notFoundTemplate]="notFoundTemplate"
                           [(ngModel)]="searchItem"
          >
          </ng-autocomplete>
          <ng-template #itemTemplate let-item>
            <a [innerHTML]="item.name"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>

      </div>

      <div class="col-md-2 form-group">
        <button class="btn-info" (click)="saveRecipesToIdb()">LoadRecipes</button>
        <br><br>
        <button class="btn-info" (click)="emptyIdbData()">ClearIDB</button>
      </div>

      <div class="col-md-2 form-group">
        <button class="btn-info" (click)="getProductNameList()">ProductNames</button>
      </div>
    </div>
  </div>
</div>

<div class="container" *ngIf="recipes.length > 0">
  <div class="row search-results">
    <div class="col-md-8">
      <span class="custom-label-title">{{searchOptionSelected}} Name:</span><br>
      <h2 class="font-weight-bold">{{searchItem.name}}</h2>
    </div>
    <div class="col-md-2">
      <span class="custom-label-title">Bottle Size:</span><br>
      <h2 class="font-weight-bold">{{searchItem.size}}</h2>
    </div>
    <div class="col-md-2">
      <span class="custom-label-title">Nicotine Strength:</span><br>
      <h2 class="font-weight-bold">{{searchItem.strength}}</h2>
    </div>
  </div>
</div>

<!-- START - Recipe Display -->
<div class="container" *ngIf="recipes.length > 0">
  <div class="row">
    <div class="col-md-4 align-items-start">
      <!-- Juice Bottle -->
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="bottle"
           x="0px" y="0px" width="160px" height="500px" viewBox="0 0 206.1 719.1"
           enable-background="new 0 0 206.1 719.1" xml:space="preserve" class="juice-bottle">
					<line fill="none" stroke="#000000" stroke-width="4" x1="30.4" y1="100.2" x2="30.4" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="42.2" y1="100.2" x2="42.2" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="53.2" y1="100.2" x2="53.2" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="65" y1="100.2" x2="65" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="75.9" y1="100.2" x2="75.9" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="87.7" y1="100.2" x2="87.7" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="98.7" y1="100.2" x2="98.7" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="110.5" y1="100.2" x2="110.5" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="121.2" y1="100" x2="121.2" y2="151.8"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="133" y1="100" x2="133" y2="151.8"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="144" y1="100" x2="144" y2="151.8"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="155.8" y1="100" x2="155.8" y2="151.8"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="166.7" y1="100" x2="166.7" y2="151.8"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="178.5" y1="100" x2="178.5" y2="151.8"/>
        <path fill="none" stroke="#000000" stroke-width="4" stroke-miterlimit="10"
              d="M168.6,171.8H39.7v-11.3v11.3H24.3  c0,0-10.7,13.6,0,30.8h79.9h80.3c10.7-17.1,0-30.8,0-30.8H168.6v-11.3"/>
        <path fill="none" stroke="#000000" stroke-width="4" stroke-miterlimit="10"
              d="M168.5,202.5v15.3c0,4.4,19.5,6.5,19.6,12.9v463.7  c-0.2,12.7-19.2,11.9-19.2,11.9h-65.3h0H39.2c0,0-19,0.8-19.2-11.9V230.8c0-6.4,18.6-8.6,18.6-12.9v-15.3"/>
        <path fill="none" stroke="#000000" stroke-width="4"
              d="M104.2,160.5h83.3c0,0,0-20.5,0-68.7c-67.2-48.3-74-79-74-79h-9.3h-9.3  c0,0-6.8,30.7-74,79c0,48.2,0,68.7,0,68.7H104.2"/>
					</svg>
    </div>

    <div class="col-md-8">
      <div class="container">
        <div class="table-wrapper">
          <table class="table table table-hover custom-table">
            <thead class="custom-thead">
            <tr>
              <th scope="col">Ingredients</th>
              <th scope="col">Quantity</th>
              <th scope="col">Percentage</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let recipe of recipes">
              <td class="d-flex"><i class="fas fa-circle ing-icon ing-color-{{recipe.color}}"></i> <span class="d-flex">{{recipe.ingredients}}</span></td>
              <td>{{recipe.quantity}} mL</td>
              <td>{{recipe.percentage * 100}}%</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>

      <form>
        <div class="row">
          <div class="col-sm-8 d-flex justify-content-end">
            <input type="number" class="custom-quantity" id="labelQuantity" name="labelQuantity" value="1">
          </div>
          <div class="col-sm-4">
            <button type="button" class="btn btn-primary btn-lg btn-block">Print</button>
          </div>
        </div>
      </form>
    </div>

  </div>
</div>
<!-- END Recipe Display -->
