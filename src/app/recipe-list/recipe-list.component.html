<div class="container-fluid">
  <div class="container">
    <div class="row">
      <div class="col-md-8 form-group">
        <div class="row margin-bottom">
          <div class="col-4 form-check custom-radio" *ngFor="let each of searchOptions">
            <input class="form-check-input custom-control-input"
                   type="radio" id="search_{{each.value}}"
                   name="searchOptions"
                   (change)="onChangeSelectOption($event)"
                   value="{{each.value}}" [(ngModel)]="searchOptionSelected">
            <label class="form-check-label custom-control-label" for="search_{{each.value}}">{{each.value}} Name</label>
          </div>
        </div>

        <div class="row input-icons">
          <i class="fas fa-search icon"></i>
          <ng-autocomplete class="form-control input-field"
                           [data]="firstNameList"
                           [searchKeyword]="nameListKey"
                           [placeHolder]=" searchOptionSelected === 'Recipe' ? 'Search Recipe(Product) Name - 3 chars minimum': 'Search Ingredients(Component) Name - 3 chars minimum' "
                           (selected)="selectEvent($event, searchOptionSelected)"
                           (inputChanged)="onChangeSearch($event, searchOptionSelected)"
                           (inputCleared)="onInputCleared()"
                           (inputFocused)="onFocused()"
                           [historyIdentifier]="firstNameListHistory"
                           [debounceTime]="400"
                           [isLoading]="isLoadingNameListFirst"
                           [minQueryLength]="3"
                           [itemTemplate]="itemTemplate"
                           [notFoundTemplate]="notFoundTemplate"
                           [(ngModel)]="searchItem">
          </ng-autocomplete>
          <ng-template #itemTemplate let-item>
            <a [innerHTML]="item.name"></a>
          </ng-template>
          <ng-template #notFoundTemplate let-notFound>
            <div [innerHTML]="notFound"></div>
          </ng-template>
        </div>

      </div>

      <div class="col-md-2 form-group" *ngIf="searchOptionSelected === 'Recipe'">
        <span class="custom-label-title">Bottle Size</span>
        <div class="form-check custom-radio" *ngFor="let each of sizeRadioButtons">
          <input class="form-check-input custom-control-input"
                 type="radio"
                 id="size{{each}}"
                 name="bottleSize"
                 value="{{each}}"
                 [(ngModel)]="bottleSizeSelected"
                 (ngModelChange)="changeSize($event)" />
          <label class="form-check-label custom-control-label" for="size{{each}}">{{each}}</label>
        </div>
      </div>
      <div class="col-md-2 form-group" *ngIf="searchOptionSelected === 'Recipe'">
        <span class="custom-label-title">Nicotine Strength</span>
        <div class="form-check custom-radio" *ngFor="let strength of strengthRadioButtons">
          <input class="form-check-input custom-control-input"
                 type="radio"
                 id="strength{{strength}}"
                 name="nicStrength"
                 value="{{strength}}"
                 [(ngModel)]="nicStrengthSelected"
                 (ngModelChange)="changeStrength($event)" />
          <label class="form-check-label custom-control-label" for="strength{{strength}}">{{strength}}</label>
        </div>
      </div>

    </div>
  </div>
</div>

<div class="container" *ngIf="searchOptionSelected === 'Recipe'">
  <div class="row search-results">
    <div class="col-md-8">
      <span class="custom-label-title">{{searchOptionSelected}} Name:</span><br>
      <h2 class="font-weight-bold">{{searchItem.name}}</h2>
    </div>
    <div class="col-md-2">
      <span class="custom-label-title">Bottle Size:</span><br>
      <h2 class="font-weight-bold">{{bottleSizeSelected}}</h2>
    </div>
    <div class="col-md-2">
      <span class="custom-label-title">Nicotine Strength:</span><br>
      <h2 class="font-weight-bold">{{nicStrengthSelected}}</h2>
    </div>
  </div>
</div>

<div class="container" *ngIf="searchOptionSelected === 'Ingredients'">
  <div class="row">
    <div class="col-md-8 form-group">
      <div class="row input-icons">
        <i class="fas fa-search icon"></i>
        <ng-autocomplete class="form-control input-field"
                         [data]="secondNameList"
                         [searchKeyword]="nameListKey"
                         [placeHolder]="'Search Recipe(Product) Name'"
                         (selected)="selectEventSecond($event)"
                         (inputChanged)="onChangeSearchSecond()"
                         (inputFocused)="onFocusedSecond()"
                         (inputCleared)="onInputClearedSecond()"
                         [historyIdentifier]="secondNameListHistory"
                         [debounceTime]="400"
                         [isLoading]="isLoadingNameListSecond"
                         [itemTemplate]="itemTemplate"
                         [notFoundTemplate]="notFoundTemplate"
                         [(ngModel)]="searchItemSecond">
        </ng-autocomplete>
      </div>

    </div>

    <div class="col-md-2 form-group">
      <span class="custom-label-title">Bottle Size</span>
      <div class="form-check custom-radio" *ngFor="let each of sizeRadioButtonsSecond">
        <input class="form-check-input custom-control-input"
               type="radio"
               id="size2nd{{each}}"
               name="bottleSize2nd"
               value="{{each}}"
               [(ngModel)]="bottleSizeSelectedSecond"
               (ngModelChange)="changeSizeSecond($event)" />
        <label class="form-check-label custom-control-label" for="size2nd{{each}}">{{each}}</label>
      </div>
    </div>
    <div class="col-md-2 form-group">
      <span class="custom-label-title">Nicotine Strength</span>
      <div class="form-check custom-radio" *ngFor="let strength of strengthRadioButtonsSecond">
        <input class="form-check-input custom-control-input"
               type="radio"
               id="strength2nd{{strength}}"
               name="nicStrength2nd"
               value="{{strength}}"
               [(ngModel)]="nicStrengthSelectedSecond"
               (ngModelChange)="changeStrengthSecond($event)" />
        <label class="form-check-label custom-control-label" for="strength2nd{{strength}}">{{strength}}</label>
      </div>
    </div>

  </div>

  <div class="container">
    <div class="row search-results">
      <div class="col-md-8">
        <span class="custom-label-title">Recipe Name:</span><br>
        <h2 class="font-weight-bold">{{searchItemSecond.name}}</h2>
      </div>
      <div class="col-md-2">
        <span class="custom-label-title">Bottle Size:</span><br>
        <h2 class="font-weight-bold">{{bottleSizeSelectedSecond}}</h2>
      </div>
      <div class="col-md-2">
        <span class="custom-label-title">Nicotine Strength:</span><br>
        <h2 class="font-weight-bold">{{nicStrengthSelectedSecond}}</h2>
      </div>
    </div>
  </div>

</div>

<!-- START - Recipe Display -->
<div class="container">
  <div class="row">
    <div class="col-md-4 align-items-start">
      <!-- Juice Bottle -->
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="bottle"
           x="0px" y="0px" width="160px" height="500px" viewBox="0 0 206.1 719.1"
           enable-background="new 0 0 206.1 719.1" xml:space="preserve" class="juice-bottle">
					<line fill="none" stroke="#000000" stroke-width="4" x1="30.4" y1="100.2" x2="30.4" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="42.2" y1="100.2" x2="42.2" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="53.2" y1="100.2" x2="53.2" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="65" y1="100.2" x2="65" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="75.9" y1="100.2" x2="75.9" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="87.7" y1="100.2" x2="87.7" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="98.7" y1="100.2" x2="98.7" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="110.5" y1="100.2" x2="110.5" y2="152"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="121.2" y1="100" x2="121.2" y2="151.8"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="133" y1="100" x2="133" y2="151.8"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="144" y1="100" x2="144" y2="151.8"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="155.8" y1="100" x2="155.8" y2="151.8"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="166.7" y1="100" x2="166.7" y2="151.8"/>
        <line fill="none" stroke="#000000" stroke-width="4" x1="178.5" y1="100" x2="178.5" y2="151.8"/>
        <path fill="none" stroke="#000000" stroke-width="4" stroke-miterlimit="10"
              d="M168.6,171.8H39.7v-11.3v11.3H24.3  c0,0-10.7,13.6,0,30.8h79.9h80.3c10.7-17.1,0-30.8,0-30.8H168.6v-11.3"/>
        <path fill="none" stroke="#000000" stroke-width="4" stroke-miterlimit="10"
              d="M168.5,202.5v15.3c0,4.4,19.5,6.5,19.6,12.9v463.7  c-0.2,12.7-19.2,11.9-19.2,11.9h-65.3h0H39.2c0,0-19,0.8-19.2-11.9V230.8c0-6.4,18.6-8.6,18.6-12.9v-15.3"/>
        <path fill="none" stroke="#000000" stroke-width="4"
              d="M104.2,160.5h83.3c0,0,0-20.5,0-68.7c-67.2-48.3-74-79-74-79h-9.3h-9.3  c0,0-6.8,30.7-74,79c0,48.2,0,68.7,0,68.7H104.2"/>
					</svg>
    </div>

    <div class="col-md-8">
      <div class="container">
        <div class="table-wrapper">
          <table class="table table table-hover custom-table">
            <thead class="custom-thead">
            <tr>
              <th scope="col">Ingredients</th>
              <th scope="col">Quantity</th>
              <th scope="col">Percentage</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let recipe of recipes">
              <td class="d-flex"><i class="fas fa-circle ing-icon ing-color-{{recipe.color}}"></i> <span class="d-flex">{{recipe.ingredients}}</span></td>
              <td>{{recipe.quantity}} mL</td>
              <td>{{recipe.percentage * 100}}%</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row" *ngIf="printData.sku.length > 0">
    <div class="col-sm-4 input-icons">
      <i class="fas fa-search icon"></i>
      <ng-autocomplete class="form-control input-field"
                       [data]="printLocations"
                       [searchKeyword]="nameListKey"
                       [placeHolder]="'Search Store name'"
                       (selected)="selectEventLocation($event)"
                       [historyIdentifier]="firstNameListHistory"
                       [debounceTime]="400"
                       [minQueryLength]=""
                       [itemTemplate]="itemTemplate"
                       [notFoundTemplate]="notFoundTemplate"
                       [(ngModel)]="searchStoreName">
      </ng-autocomplete>
    </div>
    <div class="col-sm-4" id="printSection">
      <div class="table-wrapper">
        <table>
          <tr style="font-weight: bold">{{printData.storeName}}</tr>
          <tr>{{printData.storeLocation}}</tr>
          <tr></tr>
          <tr>
            <td>
              <strong>{{printData.name}}</strong><br>
              {{printData.size}}&nbsp;&nbsp;&nbsp;&nbsp;{{printData.strength}}<br>
              {{printData.currentDate}}<br>
              {{printData.sku}}
            </td>
            <td>
              <qrcode [qrdata]="printData.sku"
                      [elementType]="'img'"
                      width="10"
                      [errorCorrectionLevel]="'M'"></qrcode>
            </td>
          </tr>
          <tr style="text-align: center">Lot #{{printData.batchNumber}}</tr>
        </table>
      </div>
    </div>
    <div class="col-sm-2 container">
      <button class="btn btn-success btn-block" (click)="exportToPdf()">Export PDF</button>
    </div>
    <div class="col-sm-2"></div>
  </div>
</div>
<!-- END Recipe Display -->
